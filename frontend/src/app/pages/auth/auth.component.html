<div class="auth-container">
  <form [formGroup]="authForm" (ngSubmit)="onSubmit()" class="auth-form" [class.signup-mode]="!isLoginMode">
    <div class="form-panel left-panel">
      <div class="content">
        <h2>{{ isLoginMode ? 'Welcome Back!' : 'Hello There!' }}</h2>
        <p>
          {{ isLoginMode 
            ? 'Enter your account details to watch everything you need' 
            : 'Register with your account details to watch everything' }}
        </p>
        <button type="button" class="btn" (click)="onSwitchMode()" [disabled]="isLoading">
          {{ isLoginMode ? 'Sign Up' : 'Sign In' }}
        </button>
      </div>
    </div>

    <div class="form-panel right-panel">
      <div class="content form-content">
        <h2>{{ isLoginMode ? 'Sign in to Vidime' : 'Create Account' }}</h2>
        <p class="subtitle">{{ isLoginMode ? 'Welcome back! Enter your details below' : 'Join our community today' }}</p>
        
        <div class="social-container">
          <a href="#" (click)="$event.preventDefault(); onSocialLogin('google')" class="social" title="Sign in with Google">
            <i class="fab fa-google"></i>
          </a>
          <a href="#" (click)="$event.preventDefault(); onSocialLogin('facebook')" class="social" title="Sign in with Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" (click)="$event.preventDefault(); onSocialLogin('github')" class="social" title="Sign in with GitHub">
            <i class="fab fa-github"></i>
          </a>
        </div>
        
        @if (error) {
          <div class="message error">
            <i class="material-icons">error_outline</i>
            <span>{{ error }}</span>
          </div>
        }
        
        @if (isSuccess) {
          <div class="message success">
            <i class="material-icons">check_circle</i>
            <span>{{ successMessage }}</span>
          </div>
        }
        
        <div class="divider">
          <span>or</span>
        </div>
        
        <div class="form-group">
          <i class="material-icons generic-icon">mail</i>
          <input id="email-input" name="email-input" autocomplete="on" type="email" placeholder="Email" formControlName="email"/>
        </div>
        
        <div class="form-group">
          <i class="material-icons generic-icon">lock</i>
          <input id="password-input" name="password-input" autocomplete="off" [type]="passwordVisible ? 'text' : 'password'" placeholder="Password" formControlName="password"/>
          <i class="material-icons toggle-password" (click)="togglePasswordVisibility($event)" title="Toggle password visibility">{{ passwordVisible ? 'visibility_off' : 'visibility' }}</i>
        </div>
        
        <div class="form-footer">
          @if (isLoginMode) {
            <label class="remember-me" [class.disabled]="!isLoginMode">
              <input id="rememberMe-input" name="rememberMe-input" autocomplete="off" type="checkbox" formControlName="rememberMe"/>
              <span>Remember me</span>
            </label>
            <a href="#" class="forgot-password">Forgot password?</a>
          }
        </div>
        
        <button type="submit" class="btn" [disabled]="authForm.invalid || isLoading">
          @if (isLoading) {
            <span class="spinner"></span>
          }
          {{ isLoginMode ? 'Sign In' : 'Create Account' }}
        </button>
        
        <p class="switch-mode">
          {{ isLoginMode ? "Don't have an account?" : 'Already have an account?' }}
          <a href="#" (click)="$event.preventDefault(); onSwitchMode()">
            {{ isLoginMode ? 'Sign up' : 'Sign in' }}
          </a>
        </p>
      </div>
    </div>
  </form>
</div>
